// Bangalore location mappings
export const BANGALORE_LOCATIONS = {
  'electronic-city': { name: 'Electronic City', value: 'electronic-city' },
  'koramangala': { name: 'Koramangala', value: 'koramangala' },
  'indiranagar': { name: 'Indiranagar', value: 'indiranagar' },
  'whitefield': { name: 'Whitefield', value: 'whitefield' },
  'marathahalli': { name: 'Marathahalli', value: 'marathahalli' },
  'btm-layout': { name: 'BTM Layout', value: 'btm-layout' },
  'jayanagar': { name: 'Jayanagar', value: 'jayanagar' },
  'mg-road': { name: 'MG Road', value: 'mg-road' },
  'brigade-road': { name: 'Brigade Road', value: 'brigade-road' },
  'commercial-street': { name: 'Commercial Street', value: 'commercial-street' },
  'hebbal': { name: 'Hebbal', value: 'hebbal' },
  'yelahanka': { name: 'Yelahanka', value: 'yelahanka' },
  'banashankari': { name: 'Banashankari', value: 'banashankari' },
  'jp-nagar': { name: 'JP Nagar', value: 'jp-nagar' },
  'rajajinagar': { name: 'Rajajinagar', value: 'rajajinagar' },
  'malleshwaram': { name: 'Malleshwaram', value: 'malleshwaram' },
  'sadashivanagar': { name: 'Sadashivanagar', value: 'sadashivanagar' },
  'rt-nagar': { name: 'RT Nagar', value: 'rt-nagar' },
  'hsr-layout': { name: 'HSR Layout', value: 'hsr-layout' },
  'sarjapur-road': { name: 'Sarjapur Road', value: 'sarjapur-road' },
  'outer-ring-road': { name: 'Outer Ring Road', value: 'outer-ring-road' },
  'silk-board': { name: 'Silk Board', value: 'silk-board' },
  'bommanahalli': { name: 'Bommanahalli', value: 'bommanahalli' },
  'bellandur': { name: 'Bellandur', value: 'bellandur' },
  'varthur': { name: 'Varthur', value: 'varthur' },
  'kundalahalli': { name: 'Kundalahalli', value: 'kundalahalli' },
  'hoodi': { name: 'Hoodi', value: 'hoodi' },
  'brookefield': { name: 'Brookefield', value: 'brookefield' },
  'itpl': { name: 'ITPL', value: 'itpl' },
  'kadugodi': { name: 'Kadugodi', value: 'kadugodi' },
  'old-airport-road': { name: 'Old Airport Road', value: 'old-airport-road' },
  'domlur': { name: 'Domlur', value: 'domlur' },
  'ejipura': { name: 'Ejipura', value: 'ejipura' },
  'halsoor': { name: 'Halsoor', value: 'halsoor' },
  'shivajinagar': { name: 'Shivajinagar', value: 'shivajinagar' },
  'richmond-town': { name: 'Richmond Town', value: 'richmond-town' },
  'langford-town': { name: 'Langford Town', value: 'langford-town' },
  'st-marks-road': { name: 'St Marks Road', value: 'st-marks-road' },
  'church-street': { name: 'Church Street', value: 'church-street' },
  'residency-road': { name: 'Residency Road', value: 'residency-road' },
  'cunningham-road': { name: 'Cunningham Road', value: 'cunningham-road' },
  'frazer-town': { name: 'Frazer Town', value: 'frazer-town' },
  'cox-town': { name: 'Cox Town', value: 'cox-town' },
  'benson-town': { name: 'Benson Town', value: 'benson-town' },
  'new-thippasandra': { name: 'New Thippasandra', value: 'new-thippasandra' },
  'old-madras-road': { name: 'Old Madras Road', value: 'old-madras-road' },
  'kanakapura-road': { name: 'Kanakapura Road', value: 'kanakapura-road' },
  'bannerghatta-road': { name: 'Bannerghatta Road', value: 'bannerghatta-road' },
  'hosur-road': { name: 'Hosur Road', value: 'hosur-road' },
  'anekal': { name: 'Anekal', value: 'anekal' },
  'attibele': { name: 'Attibele', value: 'attibele' },
  'jigani': { name: 'Jigani', value: 'jigani' },
  'chandapura': { name: 'Chandapura', value: 'chandapura' },
  'begur': { name: 'Begur', value: 'begur' },
  'arekere': { name: 'Arekere', value: 'arekere' },
  'hulimavu': { name: 'Hulimavu', value: 'hulimavu' },
  'gottigere': { name: 'Gottigere', value: 'gottigere' },
  'konanakunte': { name: 'Konanakunte', value: 'konanakunte' },
  'uttarahalli': { name: 'Uttarahalli', value: 'uttarahalli' },
  'kengeri': { name: 'Kengeri', value: 'kengeri' },
  'nagarbhavi': { name: 'Nagarbhavi', value: 'nagarbhavi' },
  'vijayanagar': { name: 'Vijayanagar', value: 'vijayanagar' },
  'basavanagudi': { name: 'Basavanagudi', value: 'basavanagudi' },
  'chickpet': { name: 'Chickpet', value: 'chickpet' },
  'gandhi-bazaar': { name: 'Gandhi Bazaar', value: 'gandhi-bazaar' },
  'lalbagh': { name: 'Lalbagh', value: 'lalbagh' },
  'wilson-garden': { name: 'Wilson Garden', value: 'wilson-garden' },
  'hanumanthanagar': { name: 'Hanumanthanagar', value: 'hanumanthanagar' },
  'srirampuram': { name: 'Srirampuram', value: 'srirampuram' },
  'laggere': { name: 'Laggere', value: 'laggere' },
  'peenya': { name: 'Peenya', value: 'peenya' },
  'jalahalli': { name: 'Jalahalli', value: 'jalahalli' },
  'mathikere': { name: 'Mathikere', value: 'mathikere' },
  'yeshwanthpur': { name: 'Yeshwanthpur', value: 'yeshwanthpur' },
  'tumkur-road': { name: 'Tumkur Road', value: 'tumkur-road' },
  'nelamangala': { name: 'Nelamangala', value: 'nelamangala' },
  'devanahalli': { name: 'Devanahalli', value: 'devanahalli' },
  'airport': { name: 'Airport', value: 'airport' },
  'bagalur': { name: 'Bagalur', value: 'bagalur' },
  'chikkaballapur': { name: 'Chikkaballapur', value: 'chikkaballapur' },
  'hoskote': { name: 'Hoskote', value: 'hoskote' },
  'magadi-road': { name: 'Magadi Road', value: 'magadi-road' },
  'rajarajeshwari-nagar': { name: 'Rajarajeshwari Nagar', value: 'rajarajeshwari-nagar' },
  'bm-layout': { name: 'BM Layout', value: 'bm-layout' },
  'rr-nagar': { name: 'RR Nagar', value: 'rr-nagar' },
  'subramanyapura': { name: 'Subramanyapura', value: 'subramanyapura' },
  'thyagarajanagar': { name: 'Thyagarajanagar', value: 'thyagarajanagar' },
  'girinagar': { name: 'Girinagar', value: 'girinagar' },
  'katriguppe': { name: 'Katriguppe', value: 'katriguppe' },
  'srinagar': { name: 'Srinagar', value: 'srinagar' },
  'padmanabhanagar': { name: 'Padmanabhanagar', value: 'padmanabhanagar' },
  'kumaraswamy-layout': { name: 'Kumaraswamy Layout', value: 'kumaraswamy-layout' },
  'banashankari-2nd-stage': { name: 'Banashankari 2nd Stage', value: 'banashankari-2nd-stage' },
  'banashankari-3rd-stage': { name: 'Banashankari 3rd Stage', value: 'banashankari-3rd-stage' },
  'jayanagar-4th-block': { name: 'Jayanagar 4th Block', value: 'jayanagar-4th-block' },
  'jayanagar-9th-block': { name: 'Jayanagar 9th Block', value: 'jayanagar-9th-block' },
  'btm-layout-1st-stage': { name: 'BTM Layout 1st Stage', value: 'btm-layout-1st-stage' },
  'btm-layout-2nd-stage': { name: 'BTM Layout 2nd Stage', value: 'btm-layout-2nd-stage' },
  'jp-nagar-1st-phase': { name: 'JP Nagar 1st Phase', value: 'jp-nagar-1st-phase' },
  'jp-nagar-2nd-phase': { name: 'JP Nagar 2nd Phase', value: 'jp-nagar-2nd-phase' },
  'jp-nagar-3rd-phase': { name: 'JP Nagar 3rd Phase', value: 'jp-nagar-3rd-phase' },
  'jp-nagar-4th-phase': { name: 'JP Nagar 4th Phase', value: 'jp-nagar-4th-phase' },
  'jp-nagar-5th-phase': { name: 'JP Nagar 5th Phase', value: 'jp-nagar-5th-phase' },
  'jp-nagar-6th-phase': { name: 'JP Nagar 6th Phase', value: 'jp-nagar-6th-phase' },
  'jp-nagar-7th-phase': { name: 'JP Nagar 7th Phase', value: 'jp-nagar-7th-phase' },
  'jp-nagar-8th-phase': { name: 'JP Nagar 8th Phase', value: 'jp-nagar-8th-phase' },
  'jp-nagar-9th-phase': { name: 'JP Nagar 9th Phase', value: 'jp-nagar-9th-phase' }
};

// Get display name for location
export function getLocationDisplayName(location) {
  // Handle null, undefined, or empty string
  if (!location) {
    return 'Unknown Location';
  }
  
  // Ensure location is a string
  const locationStr = String(location);
  
  // Handle empty string after conversion
  if (!locationStr.trim()) {
    return 'Unknown Location';
  }
  
  try {
    const normalizedLocation = locationStr.toLowerCase().replace(/\s+/g, '-');
    return BANGALORE_LOCATIONS[normalizedLocation]?.name || locationStr;
  } catch (error) {
    console.error('Error processing location:', error);
    return locationStr;
  }
}

// Get all location options for dropdowns
export function getLocationOptions() {
  return Object.values(BANGALORE_LOCATIONS).sort((a, b) => a.name.localeCompare(b.name));
}

// Check if location exists in our mapping
export function isValidLocation(location) {
  if (!location) return false;
  
  try {
    const locationStr = String(location);
    const normalizedLocation = locationStr.toLowerCase().replace(/\s+/g, '-');
    return BANGALORE_LOCATIONS.hasOwnProperty(normalizedLocation);
  } catch (error) {
    return false;
  }
}

// Get location value (normalized form) from display name
export function getLocationValue(displayName) {
  if (!displayName) return null;
  
  try {
    const displayNameStr = String(displayName);
    const entry = Object.values(BANGALORE_LOCATIONS).find(loc => 
      loc.name.toLowerCase() === displayNameStr.toLowerCase()
    );
    return entry?.value || displayNameStr.toLowerCase().replace(/\s+/g, '-');
  } catch (error) {
    console.error('Error getting location value:', error);
    return null;
  }
}